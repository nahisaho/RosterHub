# Secret Template for RosterHub
# IMPORTANT: This is an example file. DO NOT commit actual secrets to git!
#
# Usage:
#   1. Copy this file to secret.yaml
#   2. Replace placeholder values with actual secrets (base64 encoded)
#   3. Apply to cluster: kubectl apply -f secret.yaml
#   4. Add secret.yaml to .gitignore
#
# Base64 encoding:
#   echo -n "your-secret-value" | base64
#
# Example:
#   echo -n "postgresql://user:pass@host:5432/db" | base64
#   Result: cG9zdGdyZXNxbDovL3VzZXI6cGFzc0Bob3N0OjU0MzIvZGI=

apiVersion: v1
kind: Secret
metadata:
  name: rosterhub-secrets
  labels:
    app: rosterhub
type: Opaque
data:
  # Database URL (base64 encoded)
  # Format: postgresql://username:password@host:port/database?schema=public&sslmode=require
  # Example: postgresql://rosterhub:strong_password@postgres:5432/rosterhub?schema=public&sslmode=require
  database-url: REPLACE_WITH_BASE64_ENCODED_DATABASE_URL

  # Redis URL (base64 encoded)
  # Format: redis://[:password@]host[:port][/db-number]
  # Example: redis://:strong_redis_password@redis:6379/0
  # With TLS: rediss://:strong_redis_password@redis:6380/0
  redis-url: REPLACE_WITH_BASE64_ENCODED_REDIS_URL

  # JWT Secret (base64 encoded)
  # Generate with: openssl rand -base64 32
  # CRITICAL: Use strong random secret (min 32 characters)
  # WARNING: Changing this invalidates all existing tokens
  jwt-secret: REPLACE_WITH_BASE64_ENCODED_JWT_SECRET

  # API Keys for external services (if needed)
  # sentry-dsn: REPLACE_WITH_BASE64_ENCODED_SENTRY_DSN

---
# PostgreSQL Secret (for StatefulSet)
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secrets
  labels:
    app: rosterhub
    component: postgres
type: Opaque
data:
  # PostgreSQL credentials (base64 encoded)
  postgres-password: REPLACE_WITH_BASE64_ENCODED_POSTGRES_PASSWORD
  postgres-user: REPLACE_WITH_BASE64_ENCODED_POSTGRES_USER
  postgres-db: REPLACE_WITH_BASE64_ENCODED_POSTGRES_DB

---
# Redis Secret (for StatefulSet)
apiVersion: v1
kind: Secret
metadata:
  name: redis-secrets
  labels:
    app: rosterhub
    component: redis
type: Opaque
data:
  # Redis password (base64 encoded)
  # Generate with: openssl rand -base64 32
  redis-password: REPLACE_WITH_BASE64_ENCODED_REDIS_PASSWORD

---
# Example values (for development only - DO NOT USE IN PRODUCTION):
#
# database-url: cG9zdGdyZXNxbDovL3Jvc3Rlcmh1YjpkZXZfcGFzc3dvcmRAcG9zdGdyZXM6NTQzMi9yb3N0ZXJodWI/c2NoZW1hPXB1YmxpYw==
# redis-url: cmVkaXM6Ly86ZGV2X3JlZGlzX3Bhc3N3b3JkQHJlZGlzOjYzNzkvMA==
# jwt-secret: ZGV2X2p3dF9zZWNyZXRfRE9fTk9UX1VTRV9JTl9QUk9EVUNUSU9O
# postgres-password: ZGV2X3Bvc3RncmVzX3Bhc3N3b3Jk
# postgres-user: cm9zdGVyaHVi
# postgres-db: cm9zdGVyaHVi
# redis-password: ZGV2X3JlZGlzX3Bhc3N3b3Jk
